# 7.1.2 해결책 : 객체를 생성할 때만 값을 할당하라


모든 값이 객체의 생성 시에 제공되고 그 후는 변경할 수 없도록 하면서

클래스를 불변으로 만들 수 있고 오용을 방지할 수 있다.

<br>

클래스 내에서 변수를 정의할 때 클래스 내에서도 변수의 값이 변경되지 않도록 할 수 있다.

자바에서는 `final` 키워드를 사용하여 클래스 내에서도 변수의 값이 변경되지 않도록 할 수 있다.

`final` 키워드를 붙이면 해당 변수를 변경하는 코드를 실수로 추가하는 것을 방지하고,

그 변수들은 절대 변경되지 않을 것이고, 변경되어서도 안 된다는 점을 명시한다.
> 저도 명시적 이유 + 실수 방지를 위해서 final 키워드를 붙이는 것이 좋다고 생각합니다! <br>
> 실제로 불변이어야하는 변수를 수정하는 실수를 할 뻔 했는데 final 덕분에 방지한 경험이 있어서 공감이 됩니다!
>

```java
class TextOptions {

    // 멤버 변수는 final로 선언한다.
    private final Font font;
    private final Double fontSize;

    // 멤버 변수는 인스턴스 생성 시에만 설정된다.
    TextOptions(Font font, Double fontSize) {
            this.font = font;
            this.fontSize = fontSize;
    }

    ...
} 
``` 
이제 TextOptions 객체를 변경해서 오용할 수 없게 되었다.

하지만 외부에서 TextOptions의 폰트 사이즈를 변경해야하는 상황이 오게 되면 어떻게 해야할까?

이러한 경우에 **쓰기 시 복사 패턴**(copy-on-write)을 사용할 수 있다.

이와 관련한 해결책에 대해서는 다음 절에서 다룬다.
